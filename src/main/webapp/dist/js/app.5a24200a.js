(function(e){function t(t){for(var o,a,i=t[0],c=t[1],l=t[2],d=0,h=[];d<i.length;d++)a=i[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&h.push(r[a][0]),r[a]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);u&&u(t);while(h.length)h.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],o=!0,i=1;i<n.length;i++){var c=n[i];0!==r[c]&&(o=!1)}o&&(s.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},r={app:0},s=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"0968":function(e,t,n){},2125:function(e,t,n){},"2c2c":function(e,t,n){},"3eb7":function(e,t,n){"use strict";n("0968")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("logo"),e.isAuthorized?n("basic",{attrs:{access:e.accessTokenName,refresh:e.refreshTokenName}}):n("startup",{attrs:{access:e.accessTokenName,refresh:e.refreshTokenName}}),e.isAuthorized?e._e():n("hat"),n("basement")],1)},s=[],a=(n("7014"),function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{attrs:{id:"logo"}},[n("div",{attrs:{id:"logo_box"}},[n("h3",[e._v("dots among the area")])]),n("div",{attrs:{id:"logo_btn_panel"}},[n("div",{attrs:{id:"logo_btn"}})])])}],c=(n("c5b8"),n("2877")),l={},u=Object(c["a"])(l,a,i,!1,null,null,null),d=u.exports,h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"startup"}},[n("loging",{attrs:{access:e.access,refresh:e.refresh}})],1)},g=[],f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"hat"}},[e._l(e.authors,(function(e){return[n("author",{attrs:{name:e.name,surname:e.surname,group:e.group,variant:e.variant,imageURL:e.imageURL,profileLink:e.profileLink}})]}))],2)},p=[],v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"author"}},[n("a",{attrs:{href:e.profileLink}},[n("div",{staticClass:"author-logo"},[n("img",{attrs:{src:e.imageURL,width:"100%"}})]),n("div",{staticClass:"author-info"},[n("h3",{staticClass:"text__title"},[e._v(e._s(e.name)+" "+e._s(e.surname))]),n("h4",{staticClass:"text__subtitle"},[e._v("группа: "+e._s(e.group)+" "),n("br"),e._v(" вариант: "+e._s(e.variant))])])])])},m=[],w={name:"author",props:["name","surname","group","variant","imageURL","profileLink"]},b=w,y=(n("d487"),Object(c["a"])(b,v,m,!1,null,null,null)),_=y.exports,k={name:"hat",data:function(){return{authors:[{name:"Ленар",surname:"Ханнанов",group:"P3214",variant:"2599",imageURL:"https://avatars0.githubusercontent.com/u/55162739?s=400&u=3c4b18db132cb3f15d9ce43fd39b40ffcc72949c&v=4",profileLink:"https://github.com/Come1LLF00"},{name:"Антон",surname:"Сушкевич",group:"P3214",variant:"2599",imageURL:"https://avatars3.githubusercontent.com/u/58341402?s=400&u=16c83f565161eab46f41869a47fa1e71565ac53d&v=4",profileLink:"https://github.com/Leargy"}]}},components:{author:_}},x=k,T=(n("c021"),Object(c["a"])(x,f,p,!1,null,null,null)),S=T.exports,R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"loging"}},[n("div",{attrs:{id:"login-form"}},[n("fieldset",[n("label",[e._v("логин")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.login,expression:"user.login"}],attrs:{type:"text",placeholder:"dissya",title:"имя пользователя",required:"true",autocomplete:"username"},domProps:{value:e.user.login},on:{input:function(t){t.target.composing||e.$set(e.user,"login",t.target.value)}}})]),n("fieldset",[n("label",[e._v("пароль")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{type:"password",placeholder:"qwerty",title:"пароль",required:"true",autocomplete:"current-password"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}})]),n("a",{attrs:{id:"err_message"}}),n("fieldset",{staticClass:"separated"},[n("button",{staticClass:"btn",attrs:{title:"Кнопка для входа в существующий аккаунт"},on:{click:e.signin}},[e._v("Войти")]),n("button",{staticClass:"btn",attrs:{title:"Кнопка для создания нового аккаунта"},on:{click:e.signup}},[e._v("Зарегистрироваться")])])])])},O=[],j=(n("a4d3"),n("e01a"),n("d3b7"),n("96cf"),n("1da1")),N={name:"loging",props:["access","refresh"],data:function(){return{user:{login:"",password:""}}},methods:{createMessage:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=document.getElementById("err_message"),n.innerText=t;case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),signin:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(t){var n,o,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("sign in account:"),console.log("user: ".concat(this.user)),e.next=4,fetch("api/aunt/sign_in",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(this.user)});case 4:n=e.sent,console.log("check if response is ok (200)"),n.ok?(console.log("response 200; get token"),o=n.json(),console.log("response body: ".concat(o)),o?o.then((function(e){console.log("get user access-token: got"),console.log("get user refresh-token: got"),r.$session.set(r.access,e.accessToken),r.$session.set(r.refresh,e.refreshToken),window.location.reload()})):console.log("bad data: expected { accessToken, refreshToken }")):n.json().then((function(e){r.createMessage("*".concat(e.description))}));case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),signup:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(t){var n,o,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("sign up new account:"),console.log("user: ".concat(this.user)),e.next=4,fetch("api/aunt/register",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(this.user)});case 4:n=e.sent,console.log("sent request"),console.log("check if status 201"),201===n.status?(console.log("user created"),o=n.json(),console.log("response body: ".concat(o)),o?o.then((function(e){console.log("get user access-token: got"),console.log("get user refresh-token: got"),r.$session.set(r.access,e.accessToken),r.$session.set(r.refresh,e.refreshToken),window.location.reload()})):console.log("bad data: expected { accessToken, refreshToken }")):n.json().then((function(e){r.createMessage("*".concat(e.description))}));case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}},$=N,C=(n("3eb7"),Object(c["a"])($,R,O,!1,null,null,null)),L=C.exports,P={name:"startup",props:["access","refresh"],components:{hat:S,loging:L}},A=P,z=(n("c0b1"),Object(c["a"])(A,h,g,!1,null,null,null)),E=z.exports,V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"basic"}},[n("div",{attrs:{id:"top-container"}},[n("div",{staticClass:"inlines__align--center",attrs:{id:"area-container"}},[n("div",{attrs:{id:"area-subcontainer"}},[n("canvas",{ref:"area",attrs:{id:"area",width:"600",height:"600"},on:{click:e.checkArea}},[e._v(" Canvas not supported ")])])]),n("div",{attrs:{id:"form-container"}},[n("form",{attrs:{id:"result"}},[n("fieldset",{ref:"x",attrs:{title:"Значение параметра x должно быть целым числом в пределах -4 до 4"}},[n("label",[e._v("x")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.result.x,expression:"result.x"}],attrs:{required:"true"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.result,"x",t.target.multiple?n:n[0])}}},e._l(e.xValues,(function(t){return n("option",[e._v(e._s(t))])})),0)]),n("fieldset",{ref:"y",attrs:{title:"Значение параметра y должно быть действительным число в интервале от -5 до 5"}},[n("label",[e._v("y")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.result.y,expression:"result.y"}],attrs:{type:"text",placeholder:"y in (-5, 5)",required:"true"},domProps:{value:e.result.y},on:{input:function(t){t.target.composing||e.$set(e.result,"y",t.target.value)}}})]),n("fieldset",{ref:"r",attrs:{title:"Значение параметра r должно быть целым числом в пределах от 1 до 4"}},[n("label",[e._v("r")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.result.r,expression:"result.r"}],attrs:{required:"true"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.result,"r",t.target.multiple?n:n[0])}}},e._l(e.xValues,(function(t){return n("option",[e._v(e._s(t))])})),0)]),n("fieldset",{staticClass:"inlines__align--center"},[n("button",{staticClass:"btn",on:{click:function(t){return t.preventDefault(),e.check(t)}}},[e._v("проверить")])])])])]),e.isLoading?n("loader"):e.results.length?n("resultscontainer",{attrs:{results:e.results}}):n("p",{staticClass:"empty-results"},[e._v("результаты отсутствуют")])],1)},M=[],H=(n("99af"),n("cb29"),n("caad"),n("a9e3"),n("35b3"),n("2532"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"resultscontainer"}},[n("table",{attrs:{id:"results"}},[e._m(0),n("tbody",{staticClass:"table__body"},e._l(e.results,(function(t){return n("tr",[n("td",[n("div",{staticClass:"scrollable"},[e._v(e._s(t.date.toLocaleString("ru",e.dateOptions)))])]),n("td",[n("div",{staticClass:"scrollable"},[e._v(e._s(t.time))])]),n("td",[n("div",{staticClass:"scrollable"},[e._v(e._s(t.x))])]),n("td",[n("div",{staticClass:"scrollable special-width"},[e._v(e._s(t.y))])]),n("td",[n("div",{staticClass:"scrollable"},[e._v(e._s(t.r))])]),n("td",[n("div",{staticClass:"scrollable"},[e._v(e._s(t.hit?"yes":"no"))])])])})),0)])])}),q=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",{staticClass:"table__head"},[n("tr",[n("th",[e._v("дата")]),n("th",[e._v("время")]),n("th",[e._v("x")]),n("th",[e._v("y")]),n("th",[e._v("r")]),n("th",[e._v("результат")])])])}],F={name:"resultscontainer",props:["results"],data:function(){return{dateOptions:{localeMatcher:"best fit",hour12:!1,formatMatcher:"best fit",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}}}},J=F,U=(n("ebbf"),Object(c["a"])(J,H,q,!1,null,null,null)),B=U.exports,I=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},D=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"loader"}},[n("div",{staticClass:"lds-facebook"},[n("div"),n("div"),n("div")])])}],X=(n("f482"),{}),Y=Object(c["a"])(X,I,D,!1,null,null,null),Q=Y.exports,G=["1","2","3","4"],K=Math.max.apply(Math,G),W=.45,Z={name:"basic",components:{resultscontainer:B,loader:Q},props:["access","refresh"],data:function(){return{rValues:G,xValues:["-4","-3","-2","-1","0"].concat(G),yMinimal:"-5",yMaximum:"5",result:{x:"",y:"",r:""},results:[],isLoading:!0}},computed:{radius:function(){return this.result.r}},methods:{translateTo:function(e,t,n,o){return console.log("length: ".concat(n,", real coordinate: ").concat(e,", field size: ").concat(t,", proportion: ").concat(o)),n*(e-t/2)/(t*o)},translateFrom:function(e,t,n,o){return t*(e*o/n+.5)},drawRectangle:function(e,t,n,o){e.fillRect(t-o,n,o,o/2)},drawTriangle:function(e,t,n,o){e.beginPath(),e.moveTo(t,n),e.lineTo(t,n-o),e.lineTo(t+o/2,n),e.closePath(),e.stroke(),e.fill()},drawQuadrant:function(e,t,n,o){e.beginPath(),e.arc(t,n,o/2,0,Math.PI/2,!1),e.lineTo(t,n),e.closePath(),e.stroke(),e.fill()},drawArea:function(e,t,n,o,r){t.strokeStyle="#3399FF",t.fillStyle="#3399FF",console.log("canvas: ".concat(e,", ctx: ").concat(t,", x: ").concat(n,", y: ").concat(o,", radius: ").concat(r)),console.log("drawing rectangle"),this.drawRectangle(t,n,o,r),console.log("drawing triangle"),this.drawTriangle(t,n,o,r),console.log("drawing quadrant"),this.drawQuadrant(t,n,o,r)},drawVerticalLine:function(e,t,n,o){e.fillRect(t,n,2,o)},drawHorizontalLine:function(e,t,n,o){e.fillRect(t,n,o,2)},drawLines:function(e,t,n,o){e.strokeStyle="#000000",e.fillStyle="#000000",console.log("draw horizontal line"),this.drawHorizontalLine(e,0,n,o),console.log("draw vertical line"),this.drawVerticalLine(e,t,0,o)},drawHorizontalArrow:function(e,t,n,o){e.beginPath(),e.moveTo(t,n),e.lineTo(t-o,n-o/2),e.lineTo(t-o,n+o/2),e.closePath(),e.fill(),e.stroke()},drawSignedHorizontalArrow:function(e,t,n,o,r){e.fillText(r,t-o,n-o),this.drawHorizontalArrow(e,t,n,o)},drawVerticalArrow:function(e,t,n,o){e.beginPath(),e.moveTo(t,n),e.lineTo(t-o/2,n+o),e.lineTo(t+o/2,n+o),e.closePath(),e.fill(),e.stroke()},drawSignedVerticalArrow:function(e,t,n,o,r){e.fillText(r,t+o,n+o),this.drawVerticalArrow(e,t,n,o)},drawArrows:function(e,t,n,o){e.strokeStyle="#000000",e.fillStyle="#000000",console.log("drawing horizontal arrow"),this.drawHorizontalArrow(e,t,0,o),console.log("drawing vertical arrow"),this.drawVerticalArrow(e,2*t,n,o)},drawSignedArrows:function(e,t,n,o){e.strokeStyle="#000000",e.fillStyle="#000000",console.log("drawing signed horizontal arrow"),this.drawSignedHorizontalArrow(e,2*t,n,o,"x"),console.log("drawing signed vertical arrow"),this.drawSignedVerticalArrow(e,t,0,o,"y")},drawSignedHorizontalNotch:function(e,t,n,o,r){e.strokeStyle="#000000",e.fillStyle="#000000",e.fillText(r,t+o,n+o/2),this.drawHorizontalLine(e,t-o/2,n,o)},drawSignedVerticalNotch:function(e,t,n,o,r){e.strokeStyle="#000000",e.fillStyle="#000000",e.fillText(r,t-o,n-o),this.drawVerticalLine(e,t,n-o/2,o)},tempdraw:function(e){console.log("drawing template");var t=this.$refs.area,n=t.getContext("2d"),o=t.width,r=t.height,s=o*W;console.log("canvas: (".concat(o,":").concat(r,")"));var a="sans-serif",i=o/38;n.font="".concat(i,"px ").concat(a),console.log("clearing canvas"),n.clearRect(0,0,o,r),console.log("drawing working area"),this.drawArea(t,n,o/2,r/2,s),console.log("drawing coordinate lines"),this.drawLines(n,o/2,r/2,o),console.log("drawing direction arrows"),this.drawSignedArrows(n,o/2,r/2,s/20),console.log("drawing notches"),console.log("drawing horizontal notches"),this.drawSignedHorizontalNotch(n,o/2,r/2+s,s/20,"-R"),this.drawSignedHorizontalNotch(n,o/2,r/2+s/2,s/20,"-R/2"),this.drawSignedHorizontalNotch(n,o/2,r/2-s/2,s/20,"R/2"),this.drawSignedHorizontalNotch(n,o/2,r/2-s,s/20,"R"),console.log("drawing vertical notches"),this.drawSignedVerticalNotch(n,o/2-s,r/2,s/20,"-R"),this.drawSignedVerticalNotch(n,o/2-s/2,r/2,s/20,"-R/2"),this.drawSignedVerticalNotch(n,o/2+s/2,r/2,s/20,"R/2"),this.drawSignedVerticalNotch(n,o/2+s,r/2,s/20,"R"),console.log("template drew")},basedraw:function(e){console.log("drawing with real radius");var t=this.$refs.area,n=t.getContext("2d"),o=t.width,r=t.height,s=o*W;console.log("canvas: (".concat(o,":").concat(r,")"));var a="sans-serif",i=o/38;n.font="".concat(i,"px ").concat(a),console.log("clearing canvas"),n.clearRect(0,0,o,r),console.log("drawing working area"),this.drawArea(t,n,o/2,r/2,e*s/K),console.log("drawing coordinate lines"),this.drawLines(n,o/2,r/2,o),console.log("drawing direction arrows"),this.drawSignedArrows(n,o/2,r/2,s/20),console.log("drawing notches"),console.log("drawing horizontal notches");for(var c=-4;c<=4;c+=.5){var l=r/2+s,u=2*s/8;0!==c&&this.drawSignedHorizontalNotch(n,o/2,l-(K+c)*u,s/20,c+"")}console.log("drawing vertical notches");for(var d=-4;d<=4;d+=.5){var h=o/2-s,g=2*s/8;this.drawSignedVerticalNotch(n,h+(K+d)*g,r/2,s/20,d+"")}console.log("basic drew")},redraw:function(e){!e||e<=0?this.tempdraw("R"):this.basedraw(e)},testX:function(e){return console.log("x values: ".concat(this.xValues)),this.xValues.includes(e)},testY:function(e){var t=/^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/,n=parseFloat(e);console.log("parsed value: ".concat(n));var o=t.test(e);console.log("float?: ".concat(o)),console.log("not NaN?: ".concat(!isNaN(n)));var r=n<=this.yMaximum-Number.EPSILON;console.log("less?: ".concat(r));var s=n>=this.yMinimal+Number.EPSILON;return console.log("more?: ".concat(s)),o&&!isNaN(n)&&r&&s},testR:function(e){return console.log("r values: ".concat(this.rValues)),this.rValues.includes(e)},fetchToken:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(t){var n,o,r,s,a,i=this,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(n=c.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=c[r];return e.next=3,fetch("/api/refresh/token",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({refreshToken:this.$session.get(this.refresh)})});case 3:s=e.sent,console.log("check if response is ok"),s.ok?(console.log("successful fetching new token"),console.log("getting json object"),a=s.json(),a?console.log("empty response body"):a.then((function(e){i.$session.set(i.access,e.accessToken),window.location.reload(),t=t.bind(i),t(o)}))):console.log("bad response");case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),fetchResult:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("provided valid data"),console.log("sending ".concat(this.result)),console.log("sending data..."),e.next=5,fetch("/main/app/add",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8",shell_token:this.$session.get(this.access)},body:JSON.stringify(this.result)});case 5:if(t=e.sent,console.log("request sent checking if response is ok (201)"),201!==t.status){e.next=13;break}return console.log("response is ok (201)"),e.next=11,this.retrieve();case 11:e.next=20;break;case 13:if(403!==t.status){e.next=19;break}return console.log("access token expired"),e.next=17,this.fetchToken(this.fetchResult);case 17:e.next=20;break;case 19:console.log("bad response");case 20:console.log("response status: ".concat(t.status));case 21:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),drawDots:function(e){if(console.log("previous results: ".concat(e)),e.length){this.result.r=e[0].r;for(var t=this.$refs.area,n=t.getContext("2d"),o=t.width,r=t.height,s=0;s<e.length;++s){console.log("putting dot: ".concat(e[s])),console.log("x: ".concat(e[s].x,"; y: ").concat(e[s].y)),n.fillStyle=e[s].hit?"#000000":"#cd0000",console.log("translating coordinates");var a=this.translateFrom(e[s].x,o,K,W),i=this.translateFrom(-e[s].y,r,K,W);console.log("translated: x: ".concat(a," y: ").concat(i)),console.log("putting dots"),n.beginPath(),n.arc(a,i,o*W/100,0,2*Math.PI,!0),n.fill(),n.stroke(),n.closePath()}}else console.log("no any results in the table")},check:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n="",console.log("--- x testing ---"),this.testX(this.result.x)||(n+=this.$refs.x.title+";\n"),console.log("--- y testing ---"),this.testY(this.result.y)||(n+=this.$refs.y.title+";\n"),console.log("--- r testing ---"),this.testR(this.result.r)||(n+=this.$refs.r.title+";\n"),console.log("=== total testing ==="),n.length?(console.log("Errors[".concat(n.length,"]: ").concat(n)),alert(n)):(console.log("fetching new result"),this.fetchResult());case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),checkArea:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(t){var n,o,r,s,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("current radius: ".concat(this.result.r)),console.log("check if radius set"),this.result.r?this.testR(this.result.r)?(console.log("valid radius value"),n=this.$refs.area,o=n.getBoundingClientRect(),console.log("canvas: (".concat(n.width,":").concat(n.height,")")),console.log("getting x coordinate"),r=t.clientX-o.left,console.log("mouse x: ".concat(r)),console.log("translating to x value"),s=this.translateTo(r,n.width,K,W),console.log("x translated to: ".concat(s)),this.result.x=s,console.log("getting y coordinate"),a=t.clientY-o.top,console.log("mouse y: ".concat(a)),console.log("translating to y value"),i=-this.translateTo(a,n.height,K,W),console.log("y translated to: ".concat(i)),this.result.y=i,console.log("fetching new result"),this.fetchResult()):(console.log("invalid radius value"),alert(this.$refs.r.title)):(console.log("radius not set"),alert("Не установлено свойство радиуса области"));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),signout:function(e){console.log("close current session..."),this.$session.clear(),window.location.reload()},retrieve:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("getting results with unique token"),e.next=3,fetch("/main/app/dots/all",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8",shell_token:this.$session.get(this.access)},body:JSON.stringify(this.accessToken)});case 3:if(t=e.sent,console.log("check if response is ok"),!t.ok){e.next=12;break}console.log("response is ok"),console.log("getting the json object"),n=t.json(),this.results=n,e.next=20;break;case 12:if(403!==t.status){e.next=18;break}return console.log("access token expired"),e.next=16,this.fetchToken(this.retrieve);case 16:e.next=20;break;case 18:console.log("bad response"),console.log("response status: ".concat(t.status));case 20:this.isLoading=!1;case 21:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),createExitButton:function(){var e=document.createElement("BUTTON");e.innerHTML="Выйти",e.setAttribute("class","btn logo_btn"),e.onclick=this.signout;var t=document.getElementById("logo_btn");t.appendChild(e)}},mounted:function(){this.createExitButton(),this.retrieve(),this.redraw(this.radius)},updated:function(){this.drawDots(this.results)},watch:{radius:function(e){this.redraw(this.radius)}}},ee=Z,te=(n("61e5"),Object(c["a"])(ee,V,M,!1,null,null,null)),ne=te.exports,oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"basement"}})},re=[],se=(n("cb3d"),{}),ae=Object(c["a"])(se,oe,re,!1,null,null,null),ie=ae.exports,ce={name:"app",components:{logo:d,startup:E,basic:ne,hat:S,basement:ie},data:function(){return{accessTokenName:"accessToken",refreshTokenName:"refreshToken"}},computed:{access:function(){return this.$session.get(this.accessTokenName)},refresh:function(){return this.$session.get(this.refreshTokenName)},isAuthorized:function(){return!(void 0===this.access||null===this.access||""===this.access)}}},le=ce,ue=(n("034f"),Object(c["a"])(le,r,s,!1,null,null,null)),de=ue.exports,he=n("7207"),ge=n.n(he);o["a"].config.productionTip=!1,o["a"].use(ge.a),new o["a"]({render:function(e){return e(de)}}).$mount("#app")},"61e5":function(e,t,n){"use strict";n("2c2c")},"6d0b":function(e,t,n){},"702a":function(e,t,n){},"85ec":function(e,t,n){},beb9:function(e,t,n){},c021:function(e,t,n){"use strict";n("e0ca")},c0b1:function(e,t,n){"use strict";n("702a")},c5b8:function(e,t,n){"use strict";n("6d0b")},cb3d:function(e,t,n){"use strict";n("beb9")},d487:function(e,t,n){"use strict";n("2125")},def8:function(e,t,n){},e0ca:function(e,t,n){},ebbf:function(e,t,n){"use strict";n("fe67")},f482:function(e,t,n){"use strict";n("def8")},fe67:function(e,t,n){}});
//# sourceMappingURL=app.5a24200a.js.map